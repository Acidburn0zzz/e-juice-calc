{
    "app-id": "com.szibele.e-juice-calc",
    "runtime": "org.kde.Platform",
    "runtime-version": "5.11",
    "sdk": "org.kde.Sdk",
    "command": "e-juice-calc",
    "rename-desktop-file": "e-juice-calc.desktop",
    "rename-icon": "e-juice-calc-icon",
    "rename-appdata-file": "e-juice-calc.appdata.xml",
    "finish-args": [
        "--socket=x11"
    ],
    "cleanup": [
    ],
    "cleanup-commands": [
    ],
    "modules": [
        { "name": "qml-language-bridge",
          "only-arches": [],
          "buildsystem": "cmake",
          "builddir": true,
          "build-commands": [
            "cmake -DCMAKE_INSTALL_PREFIX=/app .",
            "make install"
          ],
          "cleanup": [],
          "cleanup-commands": [],
          "sources": [
            {
                "type": "archive",
                "url": "https://gitlab.com/rszibele/qml-language-bridge/-/archive/1.0.2/qml-language-bridge-1.0.2.tar.gz",
                "sha256": "1fd298f972fd31636e2c3eef49574018ff7356bcac024bfe419145aa93efc5a0"
            }
          ]
        },
        {
            "name": "e-juice-calc",
            "only-arches": [],
            "buildsystem": "simple",
            "builddir": true,
            "build-commands": [
                "ghc -threaded --make Setup",
                "./Setup configure --prefix=/app",
                "./Setup build",
                "./Setup install",
                "mkdir -p /app/share/e-juice-calc/res/",
                "rm res/Screenshot*",
                "rm res/*.svg",
                "cp -r res/* /app/share/e-juice-calc/res/",
                "mkdir -p /app/share/metainfo /app/share/appdata /app/share/applications /app/share/icons/hicolor/scalable/apps",
                "cp packaging/com.szibele.e-juice-calc.appdata.xml /app/share/metainfo/",
                "cp packaging/com.szibele.e-juice-calc.appdata.xml /app/share/appdata/",
                "cp packaging/com.szibele.e-juice-calc.desktop /app/share/applications/",
                "cp packaging/com.szibele.e-juice-calc.svg /app/share/icons/hicolor/scalable/apps/"
            ],
            "cleanup": [],
            "cleanup-commands": [],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://gitlab.com/rszibele/e-juice-calc/-/archive/1.0.3/e-juice-calc-1.0.3.tar.gz",
                    "sha256": "a94f14cf782d916f21b7fdb0d8f074278b956e95834ec323f7dfd5b7191dd131"
                }
            ]
        }
    ]
}
